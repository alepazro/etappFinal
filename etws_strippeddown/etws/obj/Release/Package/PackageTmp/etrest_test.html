<!DOCTYPE html>
<html>
<head>
    <title></title>
    <meta charset="utf-8" />

    <link href="bootstrap/css/bootstrap.min.css" rel="stylesheet" />

    <script src="Scripts/jquery-1.9.1.js"></script>
    <script src="bootstrap/js/bootstrap.min.js"></script>
    <script src="Scripts/underscore-min.js"></script>

    <script type="text/javascript">

        function crmCasesMessageAdd(token, devId, subject, note) {
            try {
                var _data = false;

                var postData = {
                    Token: token,
                    DeviceId: devId,
                    Subject: subject,
                    Note: note
                };

                postData = { Token: "3B2BA703-F6AF-43DD-84E0-965898F02037", DeviceId: "H858", Subject: "honda", Note: "test" };

                postData = JSON.stringify(postData);

                var url = 'etrest.svc/api/v1/crmcase/message/add';

                $.ajax({
                    url: url,
                    type: "POST",
                    data: postData,
                    dataType: 'json',
                    contentType: "application/json; charset=utf-8",
                    processdata: true,
                    success: function (data, textStatus, jqXHR) {
                        _data = data;
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        alert('Failed crmCasesMessageAdd');
                    },
                    async: false
                });

                return _data;

            } catch (ex) {
                alert('Failed crmCasesMessageAdd');
            }
        }

        function saveWebForm2() {
            try{
                var postData = {
                    "formId": "DDCD27C3-23C5-4660-BCF0-D00692D165D3",
                    "qtyGX": "0",
                    "qtyTF": "1",
                    "qtyOBDTracker": "2",
                    "qtyAssets": "3",
                    "serviceId": "13",
                    "qtyOBDConnector": "0",
                    "isPostedSLOption": false,
                    "ship": 0,
                    "fn": "Freddy",
                    "ln": "Aliendres",
                    "email": "freddy.aliendres@gmail.com",
                    "ph": "3134124047",
                    "cell": "3134124047",
                    "co": "personal",
                    "street": "167d",
                    "city": "Bogota",
                    "state": "Cundinamarca",
                    "postal": "50100",
                    "ccType": "VISA",
                    "ccNo": "**830115430659",
                    "ccSec": "313",
                    "ccMonth": "2",
                    "ccYear": "2021",
                    "ccFn": "Freddy",
                    "ccLn": "Aliendres",
                    "ccStreet": "167d",
                    "ccCity": "Bogota",
                    "ccState": "Cundinamarca",
                    "ccPostal": "50100",
                    "promoCode": "",
                    "msg": "note",
                    "repId": ""
                }

                postData = JSON.stringify(postData);

                var url = 'ws.svc/saveWebForm2';
                var url = 'https://etrack.ws/ws.svc/saveWebForm2'

                $.ajax({
                    url: url,
                    type: "POST",
                    data: postData,
                    dataType: 'json',
                    contentType: "application/json; charset=utf-8",
                    processdata: true,
                    success: function (data, textStatus, jqXHR) {
                        var _data = data;
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        alert('Failed saveWebForm2');
                    },
                    async: true
                });

            } catch (ex) {
                alert('Failed saveWebForm2');
            }
        }

        function post(url, postData) {
            try{
                $.ajax({
                    url: url,
                    type: "POST",
                    data: postData,
                    dataType: 'json',
                    contentType: "application/json; charset=utf-8",
                    processdata: true,
                    success: function (data, textStatus, jqXHR) {
                        var a = 1;
                        data = JSON.stringify(data);
                        var b = 1;
                    },
                    error: function (jqXHR, textStatus, errorThrown) {
                        var a = 1;
                    },
                    async: true
                });
            } catch (ex) {

            }
        }

        $(document).ready(function () {
        });

    </script>
</head>

<body>
    <h1 style="text-align:center;">etRest API Test Page</h1>

    <table>
        <tr>
            <td style="width:250px;vertical-align:top;border-right:1px solid #000;padding:10px;margin:10px;">

                <button onclick="crmCasesMessageAdd('6AADD011-8AE9-4204-8422-9C0434EA18F6', 26, 'test subject', 'test note')">crmCasesMessageAdd</button>
                <br />
                <button onclick="saveWebForm2()">saveWebForm2</button>
                <br />

                

            </td>
        </tr>
    </table>

</body>
</html>
